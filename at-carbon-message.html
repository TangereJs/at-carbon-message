<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../at-core-theme/at-core-theme.html">

<polymer-element name="at-carbon-message">

  <template>
    <style>
      :host {
        display: block;
      }

      .hide {
        display:none;
      }
    </style>

    <at-core-theme></at-core-theme>
    
    <div id="msg"></div>
  </template>

  <script>

    Polymer('at-carbon-message', {
      publish: {
        type: "warning",
        html: ""
      },
      htmlChanged: function() {
        this.render();
      },
      attached: function () {
        this.render();
      },
      render: function() {
        var msg = this.innerHTML.trim();
        if (!!this.html) msg = this.html;

        var container = this.$.msg;
        container.innerHTML = msg;
       
        var ui = this.type;
        
        
        // hide container if empty
        if (!msg) ui += " hide";
        
        container.className = "ui message " + ui;

      },
      ready: function () {
        
      }


    });

  </script>

</polymer-element>
